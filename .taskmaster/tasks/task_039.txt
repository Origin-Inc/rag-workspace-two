# Task ID: 39
# Title: Create Database Schema for Chat System
# Status: pending
# Dependencies: 38
# Priority: high
# Description: Design and implement database tables for chat instances, messages, and document associations
# Details:
Create Prisma schema for: chat_instances table (id, pageId, workspaceId, title, systemPrompt, model, createdAt), chat_messages table (id, chatInstanceId, role, content, timestamp, metadata), chat_documents table (id, chatInstanceId, documentId, addedAt), message_blocks table (id, messageId, blockId, blockType). Add necessary indexes and relationships.

# Test Strategy:
Validate schema with Prisma migrate. Test CRUD operations. Verify foreign key constraints.

# Subtasks:
## 1. Update Prisma Schema File [pending]
### Dependencies: None
### Description: Add chat-related models to the Prisma schema
### Details:
Add ChatInstance model with fields: id (UUID), pageId, workspaceId, title, systemPrompt, model, settings (JSON), createdAt, updatedAt. Create ChatMessage model with proper relations. Add ChatDocument and MessageBlock junction tables. Define proper indexes for query performance.

