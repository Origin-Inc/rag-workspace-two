# Database Configuration
# IMPORTANT: Add connection pool parameters to prevent exhaustion
# connection_limit: Maximum number of connections (default: 17)
# pool_timeout: Timeout in seconds for acquiring a connection (default: 10)
DATABASE_URL=postgresql://raguser:ragpass@localhost:5432/ragdb?schema=public&connection_limit=20&pool_timeout=20

# Redis Configuration
REDIS_URL=redis://localhost:6379
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=

# OpenAI Configuration
OPENAI_API_KEY=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
OPENAI_ORGANIZATION=

# JWT Configuration
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_EXPIRY=7d

# WebSocket Configuration
WS_URL=ws://localhost:3000

# Application Configuration
NODE_ENV=development
PORT=3000
HOST=0.0.0.0

# Session Configuration
SESSION_SECRET=your-session-secret-change-this-in-production

# Logging
LOG_LEVEL=info
LOG_FORMAT=json

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# File Upload
MAX_FILE_SIZE=10485760
ALLOWED_FILE_TYPES=pdf,txt,md,json,csv

# Vector Database
VECTOR_DIMENSIONS=1536
SIMILARITY_THRESHOLD=0.7

# Queue Configuration
QUEUE_CONCURRENCY=5
QUEUE_MAX_JOBS=100

# Supabase Configuration (Local Development)
# Use port 54342 for direct PostgreSQL connection via DATABASE_URL
SUPABASE_URL=http://localhost:54341
SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZS1kZW1vIiwicm9sZSI6ImFub24iLCJleHAiOjE5ODM4MTI5OTZ9.CRXP1A7WOeoJeXxjNni43kdQwgnWNReilDMblYTn_I0
SUPABASE_SERVICE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZS1kZW1vIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImV4cCI6MTk4MzgxMjk5Nn0.EGIM96RAZx35lJzdJsyH-qQwv8Hdp7fsn3W0YpN81IU

# Feature Flags
ENABLE_INDEXING_WORKER=false  # Set to true only when RPC functions are configured